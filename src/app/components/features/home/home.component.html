<div class="space-y-6">
    <div>
        <h1 class="text-2xl font-semibold mb-1">Dashboard</h1>
        <p class="text-gray-600">Welcome back! Here's what's happening today.</p>
    </div>

    <!-- Stats Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        @for (stat of stats; track stat.name) {
        <mat-card class="!p-6 !m-0 !rounded-xl !shadow-sm">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-gray-600 mb-1">{{stat.name}}</p>
                    <p class="text-2xl font-semibold">{{stat.value}}</p>
                    <p class="text-sm text-green-600 mt-1 flex items-center gap-1">
                        <lucide-icon [img]="TrendingUp" class="w-3 h-3"></lucide-icon>
                        {{stat.change}}
                    </p>
                </div>
                <div [class]="stat.color + ' p-3 rounded-lg'">
                    <lucide-icon [img]="stat.icon" class="w-6 h-6 text-white"></lucide-icon>
                </div>
            </div>
        </mat-card>
        }
    </div>

    <!-- Charts -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <mat-card class="!p-6 !m-0 !rounded-xl !shadow-sm flex flex-col">
            <h3 class="text-lg font-semibold mb-4">Revenue Overview</h3>
            <div class="h-[250px] w-full">
                <canvas baseChart [data]="revenueChartData" [options]="revenueChartOptions" [type]="'line'">
                </canvas>
            </div>
        </mat-card>

        <mat-card class="!p-6 !m-0 !rounded-xl !shadow-sm flex flex-col">
            <h3 class="text-lg font-semibold mb-4">Patient Growth</h3>
            <div class="h-[250px] w-full">
                <canvas baseChart [data]="patientChartData" [options]="patientChartOptions" [type]="'bar'">
                </canvas>
            </div>
        </mat-card>
    </div>

    <!-- Tables -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Pending Lab Results -->
        <mat-card class="!p-6 !m-0 !rounded-xl !shadow-sm flex flex-col">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold flex items-center gap-2">
                    <lucide-icon [img]="FlaskConical" class="w-5 h-5"></lucide-icon>
                    Pending Lab Results
                </h3>
                <span class="text-sm text-blue-600 hover:underline cursor-pointer">
                    View all
                </span>
            </div>
            <div class="space-y-3">
                @for (lab of pendingLabs; track lab.id) {
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                    <div>
                        <p class="font-medium">{{lab.patient}}</p>
                        <p class="text-sm text-gray-600">{{lab.test}}</p>
                    </div>
                    <span class="text-xs text-gray-500">{{lab.time}}</span>
                </div>
                }
            </div>
        </mat-card>

        <!-- Staff on Duty -->
        <mat-card class="!p-6 !m-0 !rounded-xl !shadow-sm flex flex-col">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold flex items-center gap-2">
                    <lucide-icon [img]="UserCheck" class="w-5 h-5"></lucide-icon>
                    Staff on Duty
                </h3>
                <span class="text-sm text-blue-600 hover:underline cursor-pointer">
                    View all
                </span>
            </div>
            <div class="space-y-3">
                @for (staff of staffOnDuty; track staff.name) {
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                    <div>
                        <p class="font-medium">{{staff.name}}</p>
                        <p class="text-sm text-gray-600">{{staff.role}}</p>
                    </div>
                    <span
                        [class]="'text-xs px-2 py-1 rounded-full ' + (staff.status === 'Available' ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700')">
                        {{staff.status}}
                    </span>
                </div>
                }
            </div>
        </mat-card>
    </div>

    <!-- Upcoming Appointments -->
    <mat-card class="!p-6 !m-0 !rounded-xl !shadow-sm flex flex-col">
        <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold flex items-center gap-2">
                <lucide-icon [img]="Calendar" class="w-5 h-5"></lucide-icon>
                Today's Appointments
            </h3>
            <span class="text-sm text-blue-600 hover:underline cursor-pointer">
                View all
            </span>
        </div>
        <div class="overflow-x-auto">
            <table mat-table [dataSource]="upcomingAppointments" class="w-full !bg-transparent">
                <ng-container matColumnDef="time">
                    <th mat-header-cell *matHeaderCellDef
                        class="!text-left !py-3 !px-4 !text-sm !font-medium !text-gray-600 !border-b !border-gray-200">
                        Time</th>
                    <td mat-cell *matCellDef="let apt" class="!py-3 !px-4 !border-b !border-gray-100">{{apt.time}}</td>
                </ng-container>

                <ng-container matColumnDef="patient">
                    <th mat-header-cell *matHeaderCellDef
                        class="!text-left !py-3 !px-4 !text-sm !font-medium !text-gray-600 !border-b !border-gray-200">
                        Patient</th>
                    <td mat-cell *matCellDef="let apt" class="!py-3 !px-4 !border-b !border-gray-100">{{apt.patient}}
                    </td>
                </ng-container>

                <ng-container matColumnDef="doctor">
                    <th mat-header-cell *matHeaderCellDef
                        class="!text-left !py-3 !px-4 !text-sm !font-medium !text-gray-600 !border-b !border-gray-200">
                        Doctor</th>
                    <td mat-cell *matCellDef="let apt" class="!py-3 !px-4 !border-b !border-gray-100">{{apt.doctor}}
                    </td>
                </ng-container>

                <ng-container matColumnDef="department">
                    <th mat-header-cell *matHeaderCellDef
                        class="!text-left !py-3 !px-4 !text-sm !font-medium !text-gray-600 !border-b !border-gray-200">
                        Department</th>
                    <td mat-cell *matCellDef="let apt" class="!py-3 !px-4 !border-b !border-gray-100">{{apt.department}}
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="appointmentsColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: appointmentsColumns;"
                    class="hover:bg-gray-50 transition-colors"></tr>
            </table>
        </div>
    </mat-card>
</div>